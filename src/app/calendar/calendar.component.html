<div class="form-content">
  <div class="form-calendar">
    <div class="form-calendar-header">
      <p>Календарь игр</p> 
      <mat-slide-toggle (change)="editOn($event.checked)">Включить редактирование</mat-slide-toggle>
    </div>
    <div class="form-calendar-body">
    <div class="form-calendar-body-title">
      <mat-form-field>
        <mat-label>Все команды</mat-label>
        <mat-select (selectionChange)="applyFilter($event.value)">
          <mat-option>Все команды</mat-option>
          <mat-option *ngFor="let team of teamsSet" [value]="team">
            {{team}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div style="display: inline-block" *ngIf="checked">
        <button mat-raised-button color='accent' [routerLink]="['/edit_calendar']">
          <mat-icon>create</mat-icon> Управление календарем
        </button>
      </div>
</div>
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

        <ng-container matColumnDef="edit" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 40px"> </th>
          <td mat-cell *matCellDef="let element" > <button mat-button title="Редактировать матч" [routerLink]="['/edit_calendar',element.id]"
              color="accent" *ngIf="checked">
              <mat-icon>edit</mat-icon><span style="display: none">{{element.id}}</span>
            </button> </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Дата </th>
          <td mat-cell *matCellDef="let element"> {{element.date | date:'dd.MM.yyyy'}} </td>
        </ng-container>

        <ng-container matColumnDef="time">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Время </th>
          <td mat-cell *matCellDef="let element"> {{element.time}} </td>
        </ng-container>

        <ng-container matColumnDef="oponent">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Соперник </th>
          <td mat-cell *matCellDef="let element" [routerLink]="['/protocol',element.id]" style="cursor: pointer">
            {{element.oponent}} </td>
        </ng-container>

        <ng-container matColumnDef="score">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Счет </th>
          <td mat-cell *matCellDef="let element"> {{element.score}} </td>
        </ng-container>

        <ng-container matColumnDef="delete" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 40px"> </th>
          <td mat-cell *matCellDef="let element" > <button mat-button title="Удалить матч" (click)="openDialog($event)" color="accent" *ngIf="checked">
              <mat-icon>clear</mat-icon><span style="display: none">{{element.id}}</span>
            </button> </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </div>
</div>